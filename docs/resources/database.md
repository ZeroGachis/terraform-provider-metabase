---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "metabase_database Resource - terraform-provider-metabase"
subcategory: ""
description: |-
  A database Metabase can connect to. Currently only BigQuery is supported. Open an issue https://github.com/flovouin/terraform-provider-metabase/issues to request support for other database engines.
  The configuration of this resource requires passing sensitive credentials to the Metabase API. Those credentials will also be stored in the Terraform state. Ensure those values are not checked into a repository nor are being displayed during Terraform operations.
---

# metabase_database (Resource)

A database Metabase can connect to. Currently only BigQuery is supported. Open [an issue](https://github.com/flovouin/terraform-provider-metabase/issues) to request support for other database engines.

The configuration of this resource requires passing sensitive credentials to the Metabase API. Those credentials will also be stored in the Terraform state. Ensure those values are not checked into a repository nor are being displayed during Terraform operations.

## Example Usage

```terraform
resource "metabase_database" "bigquery" {
  name = "üóÉÔ∏è Big Query"

  bigquery_details = {
    service_account_key      = file("sa-key.json")
    project_id               = "gcp-project"
    dataset_filters_type     = "inclusion"
    dataset_filters_patterns = "included_dataset"
  }
}

resource "metabase_database" "imported" {
  name = "‚¨áÔ∏è Imported"

  bigquery_details = {
    # If you don't have access to the service account key, you can use the redacted value to ensure there is no diff
    # when importing the resource. If you do have a key, a one-time apply will be needed to reset the key.
    service_account_key      = "**MetabasePass**"
    project_id               = "gcp-project"
    dataset_filters_type     = "exclusion"
    dataset_filters_patterns = "excluded_dataset"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `bigquery_details` (Attributes) Connection details when setting up a BigQuery database. (see [below for nested schema](#nestedatt--bigquery_details))
- `name` (String) The user-displayable name for the database.

### Read-Only

- `id` (Number) The ID for the database.

<a id="nestedatt--bigquery_details"></a>
### Nested Schema for `bigquery_details`

Required:

- `service_account_key` (String, Sensitive) The content of the service account key file.

Optional:

- `dataset_filters_patterns` (String) The pattern used by the `dataset-filters-type`.
- `dataset_filters_type` (String) The behavior of how BigQuery datasets should be selected. Can be `inclusion`, `exclusion`, or `all`.
- `project_id` (String) The ID of the GCP project containing the BigQuery datasets.

## Import

Import is supported using the following syntax:

```shell
# Use the integer ID from the Metabase API.
terraform import metabase_database.db 1
```
